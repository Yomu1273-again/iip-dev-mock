import{a as n}from"./chunk-AH5MCWPR.js";import{f as s,h as l,i as r,l as a}from"./chunk-B4T3Z6GG.js";var c='@import url("https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700");.modus-action-bar{align-items:center;display:flex;gap:0}.modus-action-bar .overflow-menu{display:none;position:absolute;z-index:1}.modus-action-bar .overflow-menu.show{display:block}',h=c,u=class{constructor(e){a(this,e),this.actionBarClick=r(this,"actionBarClick",7),this.showOverflowMenu=!1,this.actions=void 0,this.size="medium",this.visibleItemCount=3}componentWillLoad(){this.processChildren()}componentDidRender(){this.initializePopper()}handleGlobalFocus(e){if(!(e.target instanceof HTMLElement))return;let o=e.target.localName==="modus-tree-view-item";!this.el.contains(e.target)&&!o&&this.showOverflowMenu&&this.closeOverflowMenu()}processChildren(){let e=this.el.querySelectorAll("modus-action-item");if(e.length>0){let o=Array.from(e);this.actions=o.map(t=>({id:t.getAttribute("id"),icon:t.getAttribute("icon"),label:t.textContent.trim()}))}}initializePopper(){this.popperInstance=n(this.overflowButtonElement,this.overflowMenuElement,{placement:"bottom-end"})}handleKeyDown(e,o){e&&e.key!=="Enter"&&e.key!==" "||this.handleButtonClick(e,o)}handleOverflowClick(e){e.preventDefault(),e.stopPropagation(),this.toggleOverflowMenu()}handleOverflowKeyDown(e){e&&e.key!=="Enter"&&e.key!==" "||this.handleOverflowClick(e)}handleButtonClick(e,o){e.preventDefault(),e.stopPropagation(),this.actionBarClick.emit({actionId:o.id}),this.showOverflowMenu&&this.closeOverflowMenu()}toggleOverflowMenu(){this.showOverflowMenu=!this.showOverflowMenu,this.showOverflowMenu&&this.popperInstance.update()}closeOverflowMenu(){this.showOverflowMenu=!1}render(){let e=this.actions.length>this.visibleItemCount?this.actions.slice(0,this.visibleItemCount-1):this.actions,o=this.actions.length>this.visibleItemCount?this.actions.slice(this.visibleItemCount-1):null;return s("div",{key:"e02cb0ae28cefc61170f22ad384fed9cea70af7b",class:"modus-action-bar"},e.map(t=>s("modus-tooltip",{text:t.label},s("modus-button",{"icon-only":t.icon,buttonStyle:"borderless",color:"secondary",size:this.size,onClick:i=>this.handleButtonClick(i,t),onKeyDown:i=>this.handleKeyDown(i,t)},t.label))),this.actions.length>this.visibleItemCount&&s("modus-button",{ref:t=>this.overflowButtonElement=t,"icon-only":"more_vertical",buttonStyle:"borderless",color:"secondary",size:this.size,onClick:t=>this.handleOverflowClick(t),onKeyDown:t=>this.handleOverflowKeyDown(t)}),this.showOverflowMenu&&s("div",{style:{width:"200px",display:this.showOverflowMenu?"block":"none"},class:"overflow-menu",ref:t=>this.overflowMenuElement=t},s("modus-list",null,o.map(t=>s("modus-list-item",{size:this.size==="small"?"condensed":"standard",onClick:i=>this.handleButtonClick(i,t),onKeyDown:i=>this.handleKeyDown(i,t),leftIcon:t.icon},t.label)))))}get el(){return l(this)}};u.style=h;export{u as modus_action_bar};
